<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
		<title>Zapatec DHTML Calendar: utils.js Source File</title>
		<link href="doxygen.css" rel="stylesheet" type="text/css">
		<link href="../../css/template.css" rel="stylesheet" type="text/css">
		<link href="../../css/zpcal.css" rel="stylesheet" type="text/css">
		</head><body>
		<div class="topMenuHeader"> 
			<div class="logo">
				<a href='http://www.zapatec.com/website/main/support.jsp'><img src='/website/main/images/logoNew.gif' alt='Zapatec Javascript Calendar' border='0' align='middle'></a>
				<span class='zpCalHeader'>
					DHTML Calendar Javascript Source Code Documentation
				</span>
			</div>
		</div>
<!-- Generated by Doxygen 1.4.1 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<div class="nav">
<a class="el" href="dir_000000.html">src</a></div>
<h1>utils.js</h1><a href="utils_8js.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment">00001 <span class="comment">/*</span>
00002 <span class="comment">* The Zapatec DHTML utils library</span>
00003 <span class="comment">*</span>
00004 <span class="comment">* Copyright (c) 2004 by Zapatec, Inc.</span>
00005 <span class="comment">* http://www.zapatec.com</span>
00006 <span class="comment">* 1700 MLK Way, Berkeley, California,</span>
00007 <span class="comment">* 94709, U.S.A.</span>
00008 <span class="comment">* All rights reserved.</span>
00009 <span class="comment">*</span>
00010 <span class="comment">*</span>
00011 <span class="comment">* Various utility functions</span>
00012 <span class="comment">*/</span>
<a name="l00014"></a><a class="code" href="utils_8js.html#a0">00014</a> var <a class="code" href="utils_8js.html#a0">Zapatec</a> = {};
00015 
<a name="l00017"></a><a class="code" href="utils_8js.html#a1">00017</a> <a class="code" href="utils_8js.html#a0">Zapatec</a>.Utils = {};
00018 
<a name="l00023"></a><a class="code" href="utils_8js.html#a2">00023</a> <a class="code" href="utils_8js.html#a0">Zapatec</a>.Utils.getAbsolutePos = function(el) {
00024         var SL = 0, ST = 0;
00025         var is_div = /^div$/i.test(el.tagName);
00026         <span class="keywordflow">if</span> (is_div &amp;&amp; el.scrollLeft)
00027                 SL = el.scrollLeft;
00028         <span class="keywordflow">if</span> (is_div &amp;&amp; el.scrollTop)
00029                 ST = el.scrollTop;
00030         var r = { x: el.offsetLeft - SL, y: el.offsetTop - ST };
00031         <span class="keywordflow">if</span> (el.offsetParent) {
00032                 var tmp = <span class="keyword">this</span>.getAbsolutePos(el.offsetParent);
00033                 r.x += tmp.x;
00034                 r.y += tmp.y;
00035         }
00036         <span class="keywordflow">return</span> r;
00037 };
00038 
<a name="l00043"></a><a class="code" href="utils_8js.html#a3">00043</a> <a class="code" href="utils_8js.html#a0">Zapatec</a>.Utils.fixBoxPosition = function(box) {
00044         <span class="keywordflow">if</span> (box.x &lt; 0)
00045                 box.x = 0;
00046         <span class="keywordflow">if</span> (box.y &lt; 0)
00047                 box.y = 0;
00048         var cp = <a class="code" href="utils_8js.html#a0">Zapatec</a>.Utils.createElement(<span class="stringliteral">"div"</span>);
00049         var s = cp.style;
00050         s.position = <span class="stringliteral">"absolute"</span>;
00051         s.right = s.bottom = s.width = s.height = <span class="stringliteral">"0px"</span>;
00052         window.document.body.appendChild(cp);
00053         var br = <a class="code" href="utils_8js.html#a0">Zapatec</a>.Utils.getAbsolutePos(cp);
00054         window.document.body.removeChild(cp);
00055         <span class="keywordflow">if</span> (<a class="code" href="utils_8js.html#a0">Zapatec</a>.is_ie) {
00056                 br.y += window.document.body.scrollTop;
00057                 br.x += window.document.body.scrollLeft;
00058         } <span class="keywordflow">else</span> {
00059                 br.y += window.scrollY;
00060                 br.x += window.scrollX;
00061         }
00062         var tmp = box.x + box.width - br.x;
00063         <span class="keywordflow">if</span> (tmp &gt; 0) box.x -= tmp;
00064         tmp = box.y + box.height - br.y;
00065         <span class="keywordflow">if</span> (tmp &gt; 0) box.y -= tmp;
00066 };
00067 
<a name="l00088"></a><a class="code" href="utils_8js.html#a4">00088</a> <a class="code" href="utils_8js.html#a0">Zapatec</a>.Utils.isRelated = function (el, evt) {
00089         evt || (evt = window.event);
00090         var related = evt.relatedTarget;
00091         <span class="keywordflow">if</span> (!related) {
00092                 var type = evt.type;
00093                 <span class="keywordflow">if</span> (type == <span class="stringliteral">"mouseover"</span>) {
00094                         related = evt.fromElement;
00095                 } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (type == <span class="stringliteral">"mouseout"</span>) {
00096                         related = evt.toElement;
00097                 }
00098         }
00099         <span class="keywordflow">try</span> {
00100                 <span class="keywordflow">while</span> (related) {
00101                         <span class="keywordflow">if</span> (related == el) {
00102                                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
00103                         }
00104                         related = related.parentNode;
00105                 }
00106         } <span class="keywordflow">catch</span>(e) {};
00107         <span class="keywordflow">return</span> <span class="keyword">false</span>;
00108 };
00109 
<a name="l00113"></a><a class="code" href="utils_8js.html#a5">00113</a> <a class="code" href="utils_8js.html#a0">Zapatec</a>.Utils.removeClass = function(el, className) {
00114         <span class="keywordflow">if</span> (!(el &amp;&amp; el.className)) {
00115                 <span class="keywordflow">return</span>;
00116         }
00117         var cls = el.className.split(<span class="stringliteral">" "</span>);
00118         var ar = [];
00119         <span class="keywordflow">for</span> (var i = cls.length; i &gt; 0;) {
00120                 <span class="keywordflow">if</span> (cls[--i] != className) {
00121                         ar[ar.length] = cls[i];
00122                 }
00123         }
00124         el.className = ar.join(<span class="stringliteral">" "</span>);
00125 };
00126 
<a name="l00130"></a><a class="code" href="utils_8js.html#a6">00130</a> <a class="code" href="utils_8js.html#a0">Zapatec</a>.Utils.addClass = function(el, className) {
00131         <a class="code" href="utils_8js.html#a0">Zapatec</a>.Utils.removeClass(el, className);
00132         el.className += <span class="stringliteral">" "</span> + className;
00133 };
00134 
<a name="l00139"></a><a class="code" href="utils_8js.html#a7">00139</a> <a class="code" href="utils_8js.html#a0">Zapatec</a>.Utils.getElement = function(ev) {
00140         <span class="keywordflow">if</span> (<a class="code" href="utils_8js.html#a0">Zapatec</a>.is_ie) {
00141                 <span class="keywordflow">return</span> window.event.srcElement;
00142         } <span class="keywordflow">else</span> {
00143                 <span class="keywordflow">return</span> ev.currentTarget;
00144         }
00145 };
00146 
<a name="l00151"></a><a class="code" href="utils_8js.html#a8">00151</a> <a class="code" href="utils_8js.html#a0">Zapatec</a>.Utils.getTargetElement = function(ev) {
00152         <span class="keywordflow">if</span> (<a class="code" href="utils_8js.html#a0">Zapatec</a>.is_ie) {
00153                 <span class="keywordflow">return</span> window.event.srcElement;
00154         } <span class="keywordflow">else</span> {
00155                 <span class="keywordflow">return</span> ev.target;
00156         }
00157 };
00158 
<a name="l00162"></a><a class="code" href="utils_8js.html#a9">00162</a> <a class="code" href="utils_8js.html#a0">Zapatec</a>.Utils.stopEvent = function(ev) {
00163         ev || (ev = window.event);
00164         <span class="keywordflow">if</span> (<a class="code" href="utils_8js.html#a0">Zapatec</a>.is_ie) {
00165                 ev.cancelBubble = <span class="keyword">true</span>;
00166                 ev.returnValue = <span class="keyword">false</span>;
00167         } <span class="keywordflow">else</span> {
00168                 ev.preventDefault();
00169                 ev.stopPropagation();
00170         }
00171         <span class="keywordflow">return</span> <span class="keyword">false</span>;
00172 };
00173 
<a name="l00187"></a><a class="code" href="utils_8js.html#a10">00187</a> <a class="code" href="utils_8js.html#a0">Zapatec</a>.Utils.addEvent = function(el, evname, func) {
00188         <span class="keywordflow">if</span> (el.attachEvent) { <span class="comment">// IE</span>
00189                 el.attachEvent(<span class="stringliteral">"on"</span> + evname, func);
00190         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (el.addEventListener) { <span class="comment">// Gecko / W3C</span>
00191                 el.addEventListener(evname, func, <span class="keyword">true</span>);
00192         } <span class="keywordflow">else</span> {
00193                 el[<span class="stringliteral">"on"</span> + evname] = func;
00194         }
00195 };
00196 
<a name="l00199"></a><a class="code" href="utils_8js.html#a11">00199</a> <a class="code" href="utils_8js.html#a0">Zapatec</a>.Utils.removeEvent = function(el, evname, func) {
00200         <span class="keywordflow">if</span> (el.detachEvent) { <span class="comment">// IE</span>
00201                 el.detachEvent(<span class="stringliteral">"on"</span> + evname, func);
00202         } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (el.removeEventListener) { <span class="comment">// Gecko / W3C</span>
00203                 el.removeEventListener(evname, func, <span class="keyword">true</span>);
00204         } <span class="keywordflow">else</span> {
00205                 el[<span class="stringliteral">"on"</span> + evname] = null;
00206         }
00207 };
00208 
<a name="l00223"></a><a class="code" href="utils_8js.html#a12">00223</a> <a class="code" href="utils_8js.html#a0">Zapatec</a>.Utils.createElement = function(type, parent) {
00224         var el = null;
00225         <span class="keywordflow">if</span> (window.self.document.createElementNS)
00226                 <span class="comment">// use the XHTML namespace; IE won't normally get here unless</span>
00227                 <span class="comment">// _they_ "fix" the DOM2 implementation.</span>
00228                 el = window.self.document.createElementNS(<span class="stringliteral">"http://www.w3.org/1999/xhtml"</span>, type);
00229         <span class="keywordflow">else</span>
00230                 el = window.self.document.createElement(type);
00231         <span class="keywordflow">if</span> (typeof parent != <span class="stringliteral">"undefined"</span>)
00232                 parent.appendChild(el);
00233         <span class="keywordflow">if</span> (<a class="code" href="utils_8js.html#a0">Zapatec</a>.is_ie)
00234                 el.setAttribute(<span class="stringliteral">"unselectable"</span>, <span class="keyword">true</span>);
00235         <span class="keywordflow">if</span> (<a class="code" href="utils_8js.html#a0">Zapatec</a>.is_gecko)
00236                 el.style.setProperty(<span class="stringliteral">"-moz-user-select"</span>, <span class="stringliteral">"none"</span>, <span class="stringliteral">""</span>);
00237         <span class="keywordflow">return</span> el;
00238 };
00239 
00240 <span class="comment">// Cookie management</span>
00241 
<a name="l00250"></a><a class="code" href="utils_8js.html#a13">00250</a> <a class="code" href="utils_8js.html#a0">Zapatec</a>.Utils.writeCookie = function(name, value, domain, path, exp_days) {
00251         value = escape(value);
00252         var ck = name + <span class="stringliteral">"="</span> + value, exp;
00253         <span class="keywordflow">if</span> (domain)
00254                 ck += <span class="stringliteral">";domain="</span> + domain;
00255         <span class="keywordflow">if</span> (path)
00256                 ck += <span class="stringliteral">";path="</span> + path;
00257         <span class="keywordflow">if</span> (exp_days) {
00258                 exp = <span class="keyword">new</span> Date();
00259                 exp.setTime(exp_days * 86400000 + exp.getTime());
00260                 ck += <span class="stringliteral">";expires="</span> + exp.toGMTString();
00261         }
00262         document.cookie = ck;
00263 };
00264 
<a name="l00271"></a><a class="code" href="utils_8js.html#a14">00271</a> <a class="code" href="utils_8js.html#a0">Zapatec</a>.Utils.getCookie = function(name) {
00272         var re = <span class="keyword">new</span> RegExp(<span class="stringliteral">"(^|;\\s*)"</span> + name + <span class="stringliteral">"\\s*=(.*?)(;|$)"</span>);
00273         <span class="keywordflow">if</span> (re.test(document.cookie)) {
00274                 var value = RegExp.$2;
00275                 value = unescape(value);
00276                 <span class="keywordflow">return</span> (value);
00277         }
00278         <span class="keywordflow">return</span> null;
00279 };
00280 
<a name="l00289"></a><a class="code" href="utils_8js.html#a15">00289</a> <a class="code" href="utils_8js.html#a0">Zapatec</a>.Utils.makePref = function(obj) {
00290         function stringify(val) {
00291                 <span class="keywordflow">if</span> (typeof val == <span class="stringliteral">"object"</span> &amp;&amp; !val)
00292                         <span class="keywordflow">return</span> <span class="stringliteral">"null"</span>;
00293                 <span class="keywordflow">else</span> <span class="keywordflow">if</span> (typeof val == <span class="stringliteral">"number"</span> || typeof val == <span class="stringliteral">"boolean"</span>)
00294                         <span class="keywordflow">return</span> val;
00295                 <span class="keywordflow">else</span> <span class="keywordflow">if</span> (typeof val == <span class="stringliteral">"string"</span>)
00296                         <span class="keywordflow">return</span> <span class="charliteral">'"'</span> + val.replace(/\22/, <span class="stringliteral">"\\22"</span>) + <span class="charliteral">'"'</span>;
00297                 <span class="keywordflow">else</span> <span class="keywordflow">return</span> null;
00298         };
00299         var txt = <span class="stringliteral">""</span>, i;
00300         <span class="keywordflow">for</span> (i in obj)
00301                 txt += (txt ? <span class="stringliteral">",'"</span> : <span class="stringliteral">"'"</span>) + i + <span class="stringliteral">"':"</span> + stringify(obj[i]);
00302         <span class="keywordflow">return</span> txt;
00303 };
00304 
<a name="l00312"></a><a class="code" href="utils_8js.html#a16">00312</a> <a class="code" href="utils_8js.html#a0">Zapatec</a>.Utils.loadPref = function(txt) {
00313         var obj = null;
00314         <span class="keywordflow">try</span> {
00315                 eval(<span class="stringliteral">"obj={"</span> + txt + <span class="stringliteral">"}"</span>);
00316         } <span class="keywordflow">catch</span>(e) {}
00317         <span class="keywordflow">return</span> obj;
00318 };
00319 
<a name="l00326"></a><a class="code" href="utils_8js.html#a17">00326</a> <a class="code" href="utils_8js.html#a0">Zapatec</a>.Utils.mergeObjects = function(dest, src) {
00327         <span class="keywordflow">for</span> (var i in src)
00328                 dest[i] = src[i];
00329 };
00330 
00331 <span class="comment">// based on the WCH idea</span>
00332 <span class="comment">// http://www.aplus.co.yu/WCH/code3/WCH.js</span>
00333 
00335 
00336 
<a name="l00337"></a><a class="code" href="utils_8js.html#a18">00337</a> <a class="code" href="utils_8js.html#a0">Zapatec</a>.Utils.__wch_id = 0;     
<a name="l00355"></a><a class="code" href="utils_8js.html#a19">00355</a> <a class="code" href="utils_8js.html#a0">Zapatec</a>.Utils.createWCH = function() {
00356         var f = null;
00357         <span class="keywordflow">if</span> (<a class="code" href="utils_8js.html#a0">Zapatec</a>.is_ie &amp;&amp; !<a class="code" href="utils_8js.html#a0">Zapatec</a>.is_ie5) {
00358                 var filter = 'filter:progid:DXImageTransform.Microsoft.alpha(style=0,opacity=0);';
00359                 var <span class="keywordtype">id</span> = <span class="stringliteral">"WCH"</span> + (++<a class="code" href="utils_8js.html#a0">Zapatec</a>.Utils.__wch_id);
00360                 window.self.document.body.insertAdjacentHTML
00361                         ('beforeEnd', '&lt;iframe <span class="keywordtype">id</span>=<span class="stringliteral">"' + id + '"</span> scroll=<span class="stringliteral">"no"</span> frameborder=<span class="stringliteral">"0"</span> ' +
00362                          'style=<span class="stringliteral">"z-index:0;position:absolute;visibility:hidden;' + filter +</span>
00363 <span class="stringliteral">                         'border:0;top:0;left:0;width:0;height:0;"</span> ' +
00364                          'src=<span class="stringliteral">"javascript:false;"</span>&gt;&lt;/iframe&gt;');
00365                 f = window.self.document.getElementById(<span class="keywordtype">id</span>);
00366         }
00367         <span class="keywordflow">return</span> f;
00368 };
00369 
<a name="l00379"></a><a class="code" href="utils_8js.html#a20">00379</a> <a class="code" href="utils_8js.html#a0">Zapatec</a>.Utils.setupWCH_el = function(f, el, el2) {
00380         <span class="keywordflow">if</span> (f) {
00381                 var pos = <a class="code" href="utils_8js.html#a0">Zapatec</a>.Utils.getAbsolutePos(el),
00382                         X1 = pos.x,
00383                         Y1 = pos.y,
00384                         X2 = X1 + el.offsetWidth,
00385                         Y2 = Y1 + el.offsetHeight;
00386                 <span class="keywordflow">if</span> (el2) {
00387                         var p2 = <a class="code" href="utils_8js.html#a0">Zapatec</a>.Utils.getAbsolutePos(el2),
00388                                 XX1 = p2.x,
00389                                 YY1 = p2.y,
00390                                 XX2 = XX1 + el2.offsetWidth,
00391                                 YY2 = YY1 + el2.offsetHeight;
00392                         <span class="keywordflow">if</span> (X1 &gt; XX1)
00393                                 X1 = XX1;
00394                         <span class="keywordflow">if</span> (Y1 &gt; YY1)
00395                                 Y1 = YY1;
00396                         <span class="keywordflow">if</span> (X2 &lt; XX2)
00397                                 X2 = XX2;
00398                         <span class="keywordflow">if</span> (Y2 &lt; YY2)
00399                                 Y2 = YY2;
00400                 }
00401                 <a class="code" href="utils_8js.html#a0">Zapatec</a>.Utils.setupWCH(f, X1, Y1, X2-X1, Y2-Y1);
00402         }
00403 };
00404 
<a name="l00414"></a><a class="code" href="utils_8js.html#a21">00414</a> <a class="code" href="utils_8js.html#a0">Zapatec</a>.Utils.setupWCH = function(f, x, y, w, h) {
00415         <span class="keywordflow">if</span> (f) {
00416                 var s = f.style;
00417                 (typeof x != <span class="stringliteral">"undefined"</span>) &amp;&amp; (s.left = x + <span class="stringliteral">"px"</span>);
00418                 (typeof y != <span class="stringliteral">"undefined"</span>) &amp;&amp; (s.top = y + <span class="stringliteral">"px"</span>);
00419                 (typeof w != <span class="stringliteral">"undefined"</span>) &amp;&amp; (s.width = w + <span class="stringliteral">"px"</span>);
00420                 (typeof h != <span class="stringliteral">"undefined"</span>) &amp;&amp; (s.height = h + <span class="stringliteral">"px"</span>);
00421                 s.visibility = <span class="stringliteral">"visible"</span>;
00422         }
00423 };
00424 
<a name="l00430"></a><a class="code" href="utils_8js.html#a22">00430</a> <a class="code" href="utils_8js.html#a0">Zapatec</a>.Utils.hideWCH = function(f) {
00431         <span class="keywordflow">if</span> (f)
00432                 f.style.visibility = <span class="stringliteral">"hidden"</span>;
00433 };
00434 
00436 
<a name="l00443"></a><a class="code" href="utils_8js.html#a23">00443</a> <a class="code" href="utils_8js.html#a0">Zapatec</a>.Utils.destroy = function(el) {
00444         <span class="keywordflow">if</span> (el &amp;&amp; el.parentNode)
00445                 el.parentNode.removeChild(el);
00446 };
00447 
<a name="l00459"></a><a class="code" href="utils_8js.html#a24">00459</a> <a class="code" href="utils_8js.html#a0">Zapatec</a>.Utils.newCenteredWindow = function(url, windowName, width, height, scrollbars){
00460         var leftPosition = 0;
00461         var topPosition = 0;
00462         <span class="keywordflow">if</span> (screen.width)
00463                 leftPosition = (screen.width -  width)/2;
00464         <span class="keywordflow">if</span> (screen.height)
00465                 topPosition = (screen.height -  height)/2;
00466         var winArgs =
00467                 'height=' + height +
00468                 ',width=' + width +
00469                 ',top=' + topPosition +
00470                 ',left=' + leftPosition +
00471                 ',scrollbars=' + scrollbars +
00472                 ',resizable';
00473         var win = window.open(url,windowName,winArgs);
00474         <span class="keywordflow">return</span> win;
00475 };
00476 
<a name="l00486"></a><a class="code" href="utils_8js.html#a25">00486</a> <a class="code" href="utils_8js.html#a0">Zapatec</a>.Utils.selectOption = function(sel, val, call_default) {
00487         var a = sel.options, i, o;
00488         <span class="keywordflow">for</span> (i = a.length; --i &gt;= 0;) {
00489                 o = a[i];
00490                 o.selected = (o.val == val);
00491         }
00492         sel.value = val;
00493         <span class="keywordflow">if</span> (call_default) {
00494                 <span class="keywordflow">if</span> (typeof sel.onchange == <span class="stringliteral">"function"</span>)
00495                         sel.onchange();
00496                 <span class="keywordflow">else</span> <span class="keywordflow">if</span> (typeof sel.onchange == <span class="stringliteral">"string"</span>)
00497                         eval(sel.onchange);
00498         }
00499 };
00500 
<a name="l00513"></a><a class="code" href="utils_8js.html#a26">00513</a> <a class="code" href="utils_8js.html#a0">Zapatec</a>.Utils.getNextSibling = function(el, tag) {
00514         el = el.nextSibling;
00515         <span class="keywordflow">if</span> (!tag)
00516                 <span class="keywordflow">return</span> el;
00517         tag = tag.toLowerCase();
00518         <span class="keywordflow">while</span> (el &amp;&amp; (el.nodeType != 1 || el.tagName.toLowerCase() != tag))
00519                 el = el.nextSibling;
00520         <span class="keywordflow">return</span> el;
00521 };
00522 
<a name="l00533"></a><a class="code" href="utils_8js.html#a27">00533</a> <a class="code" href="utils_8js.html#a0">Zapatec</a>.Utils.getFirstChild = function(el, tag) {
00534         el = el.firstChild;
00535         <span class="keywordflow">if</span> (!tag)
00536                 <span class="keywordflow">return</span> el;
00537         tag = tag.toLowerCase();
00538         <span class="keywordflow">if</span> (el.nodeType == 1 &amp;&amp; el.tagName.toLowerCase() == tag)
00539                 <span class="keywordflow">return</span> el;
00540         <span class="keywordflow">return</span> <a class="code" href="utils_8js.html#a0">Zapatec</a>.Utils.getNextSibling(el, tag);
00541 };
00542 
<a name="l00543"></a><a class="code" href="utils_8js.html#a28">00543</a> <a class="code" href="utils_8js.html#a0">Zapatec</a>.Utils._ids = {};        
<a name="l00556"></a><a class="code" href="utils_8js.html#a29">00556</a> <a class="code" href="utils_8js.html#a0">Zapatec</a>.Utils.generateID = function(code, <span class="keywordtype">id</span>) {
00557         <span class="keywordflow">if</span> (typeof <span class="keywordtype">id</span> == <span class="stringliteral">"undefined"</span>) {
00558                 <span class="keywordflow">if</span> (typeof <span class="keyword">this</span>.<a class="code" href="utils_8js.html#a28">_ids</a>[code] == <span class="stringliteral">"undefined"</span>)
00559                         <span class="keyword">this</span>._ids[code] = 0;
00560                 <span class="keywordtype">id</span> = ++<span class="keyword">this</span>._ids[code];
00561         }
00562         <span class="keywordflow">return</span> <span class="stringliteral">"zapatec-"</span> + code + <span class="stringliteral">"-"</span> + id;
00563 };
00564 
<a name="l00578"></a><a class="code" href="utils_8js.html#a30">00578</a> <a class="code" href="utils_8js.html#a0">Zapatec</a>.Utils.addTooltip = function(target, tooltip) {
00579 <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="utils_8js.html#a0">Zapatec</a>.Tooltip(target, tooltip);
00580 };
00581 
00582 
00583 <span class="comment">// Browser sniffing</span>
00584 
<a name="l00586"></a><a class="code" href="utils_8js.html#a31">00586</a> <a class="code" href="utils_8js.html#a0">Zapatec</a>.is_opera = /opera/i.test(navigator.userAgent);
00587 
<a name="l00589"></a><a class="code" href="utils_8js.html#a32">00589</a> <a class="code" href="utils_8js.html#a0">Zapatec</a>.is_ie = ( /msie/i.test(navigator.userAgent) &amp;&amp; !<a class="code" href="utils_8js.html#a0">Zapatec</a>.is_opera );
00590 
<a name="l00592"></a><a class="code" href="utils_8js.html#a33">00592</a> <a class="code" href="utils_8js.html#a0">Zapatec</a>.is_ie5 = ( <a class="code" href="utils_8js.html#a0">Zapatec</a>.is_ie &amp;&amp; /msie 5\.0/i.test(navigator.userAgent) );
00593 
<a name="l00595"></a><a class="code" href="utils_8js.html#a34">00595</a> <a class="code" href="utils_8js.html#a0">Zapatec</a>.is_mac_ie = ( /msie.*mac/i.test(navigator.userAgent) &amp;&amp; !<a class="code" href="utils_8js.html#a0">Zapatec</a>.is_opera );
00596 
<a name="l00598"></a><a class="code" href="utils_8js.html#a35">00598</a> <a class="code" href="utils_8js.html#a0">Zapatec</a>.is_khtml = /Konqueror|Safari|KHTML/i.test(navigator.userAgent);
00599 
<a name="l00601"></a><a class="code" href="utils_8js.html#a36">00601</a> <a class="code" href="utils_8js.html#a0">Zapatec</a>.is_konqueror = /Konqueror/i.test(navigator.userAgent);
00602 
<a name="l00604"></a><a class="code" href="utils_8js.html#a37">00604</a> <a class="code" href="utils_8js.html#a0">Zapatec</a>.is_gecko = /Gecko/i.test(navigator.userAgent);
</pre></div><div class="footer" align=center> 
	<address style="align: right;"><small>
		Generated by doxygen </small></address>
	<a href="/website/main/contact.jsp" class="lnkblue">Contact Us</a> | <a href="/website/main/employment.jsp" class="lnkblue">Employment</a> 
	<br>
	<br>
	&copy; 2004 <strong>Zapatec, Inc.</strong>

</div>
</body>
</html>
